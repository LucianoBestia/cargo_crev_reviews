<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="functions around the cargo registry  d ~.cargo\registry\index\github.com-1ecc6299db9ec823\an\yh\anyhow ~.cargo\registry\src\github.com-1ecc6299db9ec823\anyhow-1.0.37\  "><meta name="keywords" content="rust, rustlang, rust-lang, cargo_registry_mod"><title>cargo_crev_reviews::cargo_registry_mod - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../cargo_crev_reviews/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><h2 class="location">Module cargo_registry_mod</h2><div class="sidebar-elems"><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#functions">Functions</a></li></ul></div><div id="sidebar-vars" data-name="cargo_registry_mod" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">cargo_crev_reviews</a>::<wbr><a class="mod" href="#">cargo_registry_mod</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/cargo_crev_reviews/cargo_registry_mod.rs.html#3-378" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>functions around the cargo registry  d
~.cargo\registry\index\github.com-1ecc6299db9ec823\an\yh\anyhow<br />
~.cargo\registry\src\github.com-1ecc6299db9ec823\anyhow-1.0.37\  </p>
</div></details><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.FileMetadata.html" title="cargo_crev_reviews::cargo_registry_mod::FileMetadata struct">FileMetadata</a></div><div class="item-right docblock-short"></div></div></div><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.cargo_registry_cache_file_for_crate.html" title="cargo_crev_reviews::cargo_registry_mod::cargo_registry_cache_file_for_crate fn">cargo_registry_cache_file_for_crate</a></div><div class="item-right docblock-short"><p>cargo registry cache file <code>.crate</code> for a crate</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.cargo_registry_src_dir.html" title="cargo_crev_reviews::cargo_registry_mod::cargo_registry_src_dir fn">cargo_registry_src_dir</a></div><div class="item-right docblock-short"><p>cargo registry src directory for a crate</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.cargo_registry_src_dir_for_crate.html" title="cargo_crev_reviews::cargo_registry_mod::cargo_registry_src_dir_for_crate fn">cargo_registry_src_dir_for_crate</a></div><div class="item-right docblock-short"><p>cargo registry src directory for a crate</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.compare_src_and_cache_content.html" title="cargo_crev_reviews::cargo_registry_mod::compare_src_and_cache_content fn">compare_src_and_cache_content</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.download_crate_from_crate_io.html" title="cargo_crev_reviews::cargo_registry_mod::download_crate_from_crate_io fn">download_crate_from_crate_io</a></div><div class="item-right docblock-short"><p>download url from crates.io into <code>cargo registry cache</code> folder
like: https://crates.io/api/v1/crates/block-cipher-trait/0.6.0/download
it works also for yanked crates. This downloads are immutable.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.fix_missing_src_folder_for_crates_that_have_review.html" title="cargo_crev_reviews::cargo_registry_mod::fix_missing_src_folder_for_crates_that_have_review fn">fix_missing_src_folder_for_crates_that_have_review</a></div><div class="item-right docblock-short"><p>when we are writing reviews, the source code of the crate must be locally in the <code>src</code> folder.
In that time it is a dependency of our project, so <code>cargo build</code> has downloaded the crates.
But later this source code can be removed because all our projects will use newer versions.
If we want to check that the reviews have the correct digest, we need the old source code.
I don’t want to use cargo as a library (for now). And there is not a raw CLI command to download and unpack a crate.
First I will check if the crate_version is in the <code>src</code> folder. If not try to unpack it.
If it does not exist neither in the <code>cache</code> folder, then download it like
<code>https://crates.io/api/v1/crates/block-cipher-trait/0.6.0/download</code>
This works also for yanked crates.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.info_for_one_crate.html" title="cargo_crev_reviews::cargo_registry_mod::info_for_one_crate fn">info_for_one_crate</a></div><div class="item-right docblock-short"><p>info of all versions for one crate</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.list_unclean_crates.html" title="cargo_crev_reviews::cargo_registry_mod::list_unclean_crates fn">list_unclean_crates</a></div><div class="item-right docblock-short"><p>compare the files in <code>src</code> and <code>cache</code> folders of <code>cargo registry</code>
return a list of folders to delete
and on the end the user will call <code>cargo check</code> to re-create a fresh copy of these folders</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.max_version_from_registry_index.html" title="cargo_crev_reviews::cargo_registry_mod::max_version_from_registry_index fn">max_version_from_registry_index</a></div><div class="item-right docblock-short"><p>max version from registry index cache</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.open_index.html" title="cargo_crev_reviews::cargo_registry_mod::open_index fn">open_index</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.unpack_from_cache_to_folder.html" title="cargo_crev_reviews::cargo_registry_mod::unpack_from_cache_to_folder fn">unpack_from_cache_to_folder</a></div><div class="item-right docblock-short"><p>unpack the .crate file from the <code>cache</code> to a folder</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.unpack_from_cache_to_src.html" title="cargo_crev_reviews::cargo_registry_mod::unpack_from_cache_to_src fn">unpack_from_cache_to_src</a></div><div class="item-right docblock-short"><p>unpack the .crate file from the <code>cache</code> to the <code>src</code> folder</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.update_registry_index.html" title="cargo_crev_reviews::cargo_registry_mod::update_registry_index fn">update_registry_index</a></div><div class="item-right docblock-short"><p>fetch/pull the registry index from github</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.yanked_for_one_crate.html" title="cargo_crev_reviews::cargo_registry_mod::yanked_for_one_crate fn">yanked_for_one_crate</a></div><div class="item-right docblock-short"><p>list only yanked versions for one crate</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.yanked_for_version.html" title="cargo_crev_reviews::cargo_registry_mod::yanked_for_version fn">yanked_for_version</a></div><div class="item-right docblock-short"><p>yanked</p>
</div></div></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="cargo_crev_reviews" data-search-index-js="../../search-index.js" data-search-js="../../search.js"></div>
    <script src="../../main.js"></script>
</body></html>